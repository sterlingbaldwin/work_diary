# Week of 8/13/2018


Found and identified an issue stopping the processflow from running correctly on rhea and anvil. Turns out the ssh library I use (paramiko) has an issue on some systems where it will get stuck in deadlock at import time.
This was a particularly thorny issue to deal with as nothing I could do would stop it, and it would get stuck during the import step and never finish. I did a short-term resolve of this by changing the filemanager to dynamically load
the transport interface requested by the user in the config, so the libraries will only be loaded if the user requests ssh file transport. The upside of this is that the import step is now much faster in some configurations, since
globus was one of the slowest to load modules.

Responded to IPPP personel feedback requests.

Discovered that sometimes, some jobs would fail on anvil. Very confusingly the error given would be that the job couldnt access my home directory, even though nothing in the run script or any of the jobs commands touched my home directory, or did anything outside of the bulk storage area. Contacted LCRC support, and was informed that all jobs create temporary out/error log files in the users home directory, even when the log/error flags have been explicitly set to go somewhere else. The logs are just moved to the requested location after the jobs finishes. They commented that the -D flag to change the jobs running directory can sometimes cause undefined behavior and suggested I remove it. Editorial: slurm is such a rediculusly better job scheduler then PBS it astonishes me when I come across computing centers that still use it. Updated the affected job types, after testing this seems to have solved the problem. All jobs are now working at LCRC, NERSC, and LLNL.

Switched from the 1.2.0 version of the e3sm-unified to 1.2.1 for all jobs, this seems to have fixed the land regridding issue that showed up in nco 4.7.4, new version runs 4.7.6 which has the bug fix.

Merged changes into the master branch after testing, updated all the version numbers to 2.0.3 and rebuilt/released to the anaconda e3sm channel. Working with Xylar to get the package back into the e3sm-unified now that the conflicting depencies have rebuilt using the latest gcc.
